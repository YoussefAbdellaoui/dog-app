{"version":3,"sources":["components/FavouriteDog.tsx","components/ui/Spinner.tsx","components/ui/Picture.tsx","components/Dog.tsx","components/Nav.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["FavouriteDog","favouriteDogs","removeFav","id","className","map","dog","src","alt","onClick","e","Spinner","icon","faSpinner","Picture","currentDog","loading","Dog","useState","Object","newDog","setNewDog","setLoading","dogArray","setDogArray","favDogArray","setFavDogArray","prevDogError","setPrevDogError","favDogError","setFavDogError","getDatabaseDogs","a","axios","get","response","data","console","error","fetchDatabaseDogs","databaseDogs","databaseFavouritesArray","element","breed","getDog","fetchDog","message","length","splice","prevDogs","formatDogLink","link","sliceDog","slice","dogBreed","substr","indexOf","getDogId","favDog","find","dogId","postFavDog","post","currentTarget","filter","delete","prevDog","previousDogIndex","useEffect","loadDogs","nextDogIndex","Nav","href","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.695f5904.chunk.js","sourcesContent":["import React from \"react\";\n\ninterface FavouriteDogProps {\n  favouriteDogs: Array<string>;\n  removeFav(e: React.MouseEvent<HTMLImageElement>): void;\n}\n\nconst FavouriteDog: React.FC<FavouriteDogProps> = ({\n  favouriteDogs,\n  removeFav,\n}) => {\n  return (\n    <section id=\"favourite\">\n      <h1 className=\"header__title favourite__title\">\n        <span className=\"pink\">Favourite</span> Dogs\n      </h1>\n\n      <div className=\"dog__fav\">\n        {favouriteDogs.map((dog) => (\n          <figure key={dog} className=\"dog__fav--wrapper\">\n            <img\n              src={dog}\n              alt=\"\"\n              className=\"dog__img dog__fav--img\"\n              onClick={(e) => removeFav(e)}\n            />\n          </figure>\n        ))}\n      </div>\n    </section>\n  );\n};\n\nexport default FavouriteDog;\n","import { faSpinner } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React from \"react\";\n\nconst Spinner: React.FC = () => {\n  return (\n    <div className=\"dog__img--loading\">\n      <FontAwesomeIcon icon={faSpinner} className=\"spinner\" />\n    </div>\n  );\n};\n\nexport default Spinner;\n","import React from \"react\";\nimport Spinner from \"./Spinner\";\n\ninterface Props {\n  currentDog: string;\n  loading: boolean;\n}\n\nconst Picture: React.FC<Props> = ({ currentDog, loading }) => {\n  return (\n    <div className=\"dog__img--wrapper\">\n      {/* If we're not loading then show the dog, otherwise show the spinner animation */}\n      {!loading ? (\n        <img src={currentDog} alt=\"\" className=\"dog__img dog__main\" />\n      ) : (\n        <Spinner />\n      )}\n    </div>\n  );\n};\n\nexport default Picture;\n","import axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport FavouriteDog from \"./FavouriteDog\";\nimport Picture from \"./ui/Picture\";\n\nconst Dog: React.FC = () => {\n  // Generic dog state used to display the current dog\n  const [newDog, setNewDog] = useState(Object);\n\n  // Loading state\n  const [loading, setLoading] = useState<boolean>(true);\n\n  // Array states for keeping track of dogs & favourite dogs\n  const [dogArray, setDogArray] = useState<string[]>([]);\n  const [favDogArray, setFavDogArray] = useState<string[]>([]);\n\n  // Error states for showing in the UI\n  const [prevDogError, setPrevDogError] = useState<boolean>(false);\n  const [favDogError, setFavDogError] = useState<boolean>(false);\n\n  // Query the database for our dogs\n  const getDatabaseDogs = async (): Promise<Array<Object> | undefined> => {\n    try {\n      const response = await axios.get(\"http://localhost:8080/favourites\");\n      return response.data;\n    } catch (e) {\n      console.error(e);\n    }\n  };\n\n  // Fetch the data from the query\n  const fetchDatabaseDogs = async (): Promise<void> => {\n    const databaseDogs = (await getDatabaseDogs()) as [];\n\n    // Map the favourite dogs from the database to its own variable\n    // Better than setting state in a loop continously\n    const databaseFavouritesArray = databaseDogs.map(\n      (element: { breed: string; id: string }) =>\n        `https://images.dog.ceo/breeds/${element.breed}/${element.id}.jpg`\n    );\n    setFavDogArray([...databaseFavouritesArray]);\n  };\n\n  // Query the API for a dog\n  const getDog = async (): Promise<Object | undefined> => {\n    try {\n      const response = await axios.get(\n        \"https://dog.ceo/api/breeds/image/random\"\n      );\n\n      return response.data;\n    } catch (e) {\n      console.error(e);\n    }\n  };\n\n  // Fetch a new dog from the API\n  const fetchDog = async (): Promise<void> => {\n    // Show loading state on screen\n    setLoading(true);\n\n    interface Dog {\n      message: string;\n      status: string;\n    }\n\n    const dog = (await getDog()) as Dog;\n    setNewDog(dog.message);\n\n    // Check if there are 10 dogs stored in the array & remove the first index\n    if (dogArray.length > 10) {\n      // Remove the first index from the array\n      setDogArray(dogArray.splice(0, 1));\n\n      // Add the current dog to the array\n      setDogArray([...dogArray, dog.message]);\n      setLoading(false);\n      return;\n    }\n\n    // Otherwise just add the current dog to the array\n    // We use a callback on setState to wait for the previous state to finish first\n    setDogArray((prevDogs) => {\n      return [...prevDogs, dog.message];\n    });\n\n    setLoading(false);\n  };\n\n  // Utility function to format the dog link into two values (Breed & ID)\n  const formatDogLink = (link: string): Array<string> => {\n    // Slice the link all the way to the parameters so we can get the breed & id of the dog\n    const sliceDog = link.slice(30);\n\n    // Get the breed\n    const dogBreed = sliceDog.substr(0, sliceDog.indexOf(\"/\"));\n\n    // Get the ID & remove the .jpg at the end of the string\n    const getDogId = sliceDog.substr(sliceDog.indexOf(\"/\") + 1);\n    const dogId = getDogId.substr(0, getDogId.indexOf(\".\"));\n\n    return [dogBreed, dogId];\n  };\n\n  const favDog = async (): Promise<void> => {\n    // Check if the favourite dog already exists in the array\n    const checkFav = favDogArray.find((element) => newDog === element);\n    // If we find the current dog in the array already then disable the button\n    if (checkFav) {\n      setFavDogError(true);\n      return;\n    }\n\n    // Format the link so we can get the breed & ID seperately\n    const [dogBreed, dogId] = formatDogLink(newDog);\n\n    // Post it to the API\n    const postFavDog = { breed: dogBreed, id: dogId };\n    try {\n      await axios.post(\"http://localhost:8080/newFavourite\", postFavDog);\n    } catch (e) {\n      console.error(e);\n    }\n\n    // We could use the response from the API but its easier to just add the newDog variable\n    // Add the dog to the favourite dog array\n    setFavDogArray([...favDogArray, newDog]);\n\n    // Disable the favourite button once we add it to the array\n    setFavDogError(true);\n  };\n\n  const removeFav = async (\n    e: React.MouseEvent<HTMLImageElement>\n  ): Promise<void> => {\n    // Format the link so we can get the breed & ID seperately\n    const [_, dogId] = formatDogLink(e.currentTarget.src);\n\n    try {\n      // Set the fav dog array by filtering out the selected dog to remote\n      setFavDogArray(favDogArray.filter((dog) => dog !== e.currentTarget.src));\n\n      // Remove the disabled button if the favourite removed is the current dog\n      if (e.currentTarget.src === newDog) {\n        setFavDogError(false);\n      }\n\n      // Remove the favourite dog from the database\n      await axios.delete(`http://localhost:8080/deleteFavourite/${dogId}`);\n    } catch (e) {\n      console.error(e);\n    }\n  };\n\n  // Get the previous dog on \"previous\" button press\n  const prevDog = (): void => {\n    // Get the index of the previous dog\n    const previousDogIndex = dogArray.indexOf(newDog) - 1;\n\n    // If we're below the index of 0 then show that there is no previous dog\n    if (previousDogIndex < 0) {\n      setPrevDogError(true);\n      return;\n    }\n\n    // Remove the the favDogError from the UI if it exists\n    if (favDogError) {\n      setFavDogError(false);\n    }\n\n    // Otherwise set the previous dog to the current dog so we can show it on screen\n    setNewDog(dogArray[previousDogIndex]);\n  };\n\n  // Get a new dog on \"next\" button press\n  const nextDog = (): void => {\n    // Remove the the prevDogError from the UI if it exists\n    if (prevDogError) {\n      setPrevDogError(false);\n    }\n\n    // Remove the the favDogError from the UI if it exists\n    if (favDogError) {\n      setFavDogError(false);\n    }\n\n    // Get the index of the next dog\n    const nextDogIndex = dogArray.indexOf(newDog) + 1;\n\n    // If the next index exists we've already fetched a dog, therefore set it to the current dog\n    if (nextDogIndex in dogArray) {\n      return setNewDog(dogArray[nextDogIndex]);\n    }\n\n    // Otherwise just fetch a new dog\n    fetchDog();\n  };\n\n  // Load the dog on initial page load\n  useEffect(() => {\n    const loadDogs = async () => {\n      await fetchDatabaseDogs();\n      await fetchDog();\n    };\n\n    loadDogs();\n  }, []);\n\n  return (\n    <>\n      <section id=\"dog\">\n        <h1 className=\"header__title\">\n          The best place to find your next <span className=\"pink\">Dog.</span>\n        </h1>\n\n        <div className=\"dog--wrapper\">\n          <div className=\"fav__btn--wrapper\">\n            {favDogError ? (\n              <>\n                <button className=\"btn--disabled btn--fav btn\" onClick={favDog}>\n                  Favourite\n                </button>\n                <span className=\"error fav__error\">\n                  Favourite already exists!\n                </span>\n              </>\n            ) : (\n              <button className=\"btn btn--fav\" onClick={favDog}>\n                Favourite\n              </button>\n            )}\n          </div>\n\n          <div className=\"dog__main\">\n            <div className=\"previous\">\n              <div className=\"previous--wrapper\">\n                {prevDogError ? (\n                  <>\n                    <button\n                      className=\"btn--disabled btn--prev btn\"\n                      onClick={prevDog}\n                    >\n                      Previous\n                    </button>\n                    <span className=\"error previous__error\">\n                      No Previous Dog!\n                    </span>\n                  </>\n                ) : (\n                  <button className=\"btn btn--prev\" onClick={prevDog}>\n                    Previous\n                  </button>\n                )}\n              </div>\n            </div>\n\n            <div className=\"picture\">\n              {<Picture currentDog={newDog} loading={loading} />}\n            </div>\n\n            <div className=\"next\">\n              <div className=\"next--wrapper\">\n                <button className=\"btn btn--next\" onClick={nextDog}>\n                  Next\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n      <div className=\"separator\"></div>\n      <FavouriteDog favouriteDogs={favDogArray} removeFav={removeFav} />\n    </>\n  );\n};\n\nexport default Dog;\n","import React from \"react\";\n\nconst Nav: React.FC = () => {\n  return (\n    <nav>\n      <a href=\"/\" className=\"nav__logo\">\n        🐶\n      </a>\n      <ul className=\"nav__links\">\n        <li className=\"nav__list\">\n          <a href=\"#\" className=\"nav__list--link\">\n            About\n          </a>\n        </li>\n        <li className=\"nav__list\">\n          <a href=\"#\" className=\"nav__list--link\">\n            Contact\n          </a>\n        </li>\n      </ul>\n    </nav>\n  );\n};\n\nexport default Nav;\n","import React from \"react\";\nimport Dog from \"./components/Dog\";\nimport Nav from \"./components/Nav\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Nav />\n      <header>\n        <Dog />\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}